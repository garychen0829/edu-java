# redis
## redis分布式锁的实现

> 实现原理:
1. 加锁：执行setnx，若成功再执行expire添加过期时间
2. 解锁：执行delete命令

> 优点
+ 实现简单，相比数据库和分布式系统的实现，该方案最轻，性能最好

> 缺点
1. setnx和expire分2步执行，非原子操作；若setnx执行成功，但expire执行失败，就可能出现死锁
2. delete命令存在误删除非当前线程持有的锁的可能
3. 不支持阻塞等待、不可重入

## redisson强大的分布式锁的实现(扩展)

redisson保持了简单易用、支持锁重入、支持阻塞等待、Lua脚本原子操作